<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Bookmark Manager Zero</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    :root {
      --md-sys-color-primary: #6366f1;
      --md-sys-color-on-primary: #ffffff;
      --md-sys-color-primary-container: #e0e7ff;
      --md-sys-color-on-primary-container: #1e1b4b;
      --md-sys-color-secondary: #818cf8;
      --md-sys-color-surface: #fefefe;
      --md-sys-color-surface-variant: #f1f5f9;
      --md-sys-color-surface-container: #e2e8f0;
      --md-sys-color-surface-container-high: #cbd5e1;
      --md-sys-color-on-surface: #0f172a;
      --md-sys-color-on-surface-variant: #475569;
      --md-sys-color-outline: #94a3b8;
      --md-sys-color-outline-variant: #cbd5e1;
      --md-sys-color-error: #ef4444;
      --md-sys-color-success: #10b981;
      --md-sys-color-warning: #f59e0b;
      --md-elevation-1: 0 1px 2px 0 rgb(0 0 0 / 0.05);
      --md-elevation-2: 0 4px 6px -1px rgb(0 0 0 / 0.1);
      --md-elevation-3: 0 10px 15px -3px rgb(0 0 0 / 0.1);
    }
    
    .dark {
      --md-sys-color-primary: #818cf8;
      --md-sys-color-on-primary: #1e1b4b;
      --md-sys-color-primary-container: #312e81;
      --md-sys-color-on-primary-container: #e0e7ff;
      --md-sys-color-secondary: #a5b4fc;
      --md-sys-color-surface: #0f172a;
      --md-sys-color-surface-variant: #1e293b;
      --md-sys-color-surface-container: #334155;
      --md-sys-color-surface-container-high: #475569;
      --md-sys-color-on-surface: #f1f5f9;
      --md-sys-color-on-surface-variant: #cbd5e1;
      --md-sys-color-outline: #64748b;
      --md-sys-color-outline-variant: #475569;
      --md-elevation-1: 0 1px 2px 0 rgb(0 0 0 / 0.3);
      --md-elevation-2: 0 4px 6px -1px rgb(0 0 0 / 0.3);
      --md-elevation-3: 0 10px 15px -3px rgb(0 0 0 / 0.3);
    }
    
    body {
      font-family: 'Google Sans', 'Segoe UI', Roboto, -apple-system, sans-serif;
      background: var(--md-sys-color-surface);
      color: var(--md-sys-color-on-surface);
      height: 100vh;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      transition: background-color 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .header {
      background: linear-gradient(135deg, var(--md-sys-color-surface) 0%, var(--md-sys-color-surface-variant) 100%);
      backdrop-filter: blur(20px);
      padding: 24px 20px 20px;
      border-bottom: 1px solid var(--md-sys-color-outline-variant);
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    .logo-container {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-bottom: 20px;
    }
    
    .logo-icon {
      width: 56px;
      height: 56px;
      background: linear-gradient(135deg, var(--md-sys-color-primary) 0%, var(--md-sys-color-secondary) 100%);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 28px;
      box-shadow: var(--md-elevation-2);
    }
    
    .logo-text {
      flex: 1;
    }
    
    .logo-title {
      font-size: 24px;
      font-weight: 500;
      color: var(--md-sys-color-on-surface);
      line-height: 1.2;
      letter-spacing: -0.5px;
    }
    
    .logo-subtitle {
      font-size: 13px;
      color: var(--md-sys-color-on-surface-variant);
      margin-top: 2px;
      letter-spacing: 0.1px;
    }
    
    .search-container {
      position: relative;
      margin-bottom: 20px;
    }
    
    .search-input {
      width: 100%;
      padding: 16px 20px 16px 56px;
      border: none;
      border-radius: 28px;
      background: var(--md-sys-color-surface-container);
      color: var(--md-sys-color-on-surface);
      font-size: 15px;
      outline: none;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: var(--md-elevation-1);
    }
    
    .search-input:focus {
      background: var(--md-sys-color-surface-container-high);
      box-shadow: var(--md-elevation-2);
    }
    
    .search-icon {
      position: absolute;
      left: 20px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--md-sys-color-on-surface-variant);
      width: 20px;
      height: 20px;
    }
    
    .toolbar {
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
    }
    
    .toolbar-left, .toolbar-right {
      display: flex;
      gap: 8px;
      align-items: center;
    }
    
    .btn {
      padding: 12px 20px;
      border: none;
      border-radius: 20px;
      background: var(--md-sys-color-surface-container);
      color: var(--md-sys-color-on-surface);
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: var(--md-elevation-1);
      letter-spacing: 0.2px;
    }
    
    .btn:hover {
      background: var(--md-sys-color-surface-container-high);
      box-shadow: var(--md-elevation-2);
      transform: translateY(-1px);
    }
    
    .btn:active {
      transform: translateY(0);
      box-shadow: var(--md-elevation-1);
    }
    
    .btn-primary {
      background: var(--md-sys-color-primary);
      color: var(--md-sys-color-on-primary);
    }
    
    .btn-primary:hover {
      background: var(--md-sys-color-secondary);
      box-shadow: var(--md-elevation-3);
    }
    
    .btn-icon {
      width: 48px;
      height: 48px;
      padding: 0;
      justify-content: center;
      border-radius: 50%;
    }
    
    .icon {
      width: 20px;
      height: 20px;
    }
    
    .filters {
      display: flex;
      gap: 10px;
      padding: 16px 20px;
      background: var(--md-sys-color-surface-variant);
      border-bottom: 1px solid var(--md-sys-color-outline-variant);
      overflow-x: auto;
      scrollbar-width: none;
    }
    
    .filters::-webkit-scrollbar {
      display: none;
    }
    
    .filter-chip {
      padding: 10px 20px;
      border: 1px solid var(--md-sys-color-outline);
      border-radius: 16px;
      background: var(--md-sys-color-surface);
      color: var(--md-sys-color-on-surface-variant);
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      white-space: nowrap;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .filter-chip.active {
      background: var(--md-sys-color-primary-container);
      color: var(--md-sys-color-on-primary-container);
      border-color: transparent;
      box-shadow: var(--md-elevation-1);
    }
    
    .filter-chip:hover:not(.active) {
      background: var(--md-sys-color-surface-container);
      border-color: var(--md-sys-color-on-surface-variant);
    }
    
    .content {
      flex: 1;
      overflow-y: auto;
      padding: 20px;
      scroll-behavior: smooth;
    }
    
    .content::-webkit-scrollbar {
      width: 12px;
    }
    
    .content::-webkit-scrollbar-track {
      background: transparent;
    }
    
    .content::-webkit-scrollbar-thumb {
      background: var(--md-sys-color-outline);
      border-radius: 6px;
      border: 3px solid var(--md-sys-color-surface);
    }
    
    .content::-webkit-scrollbar-thumb:hover {
      background: var(--md-sys-color-on-surface-variant);
    }
    
    .loading {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 300px;
      color: var(--md-sys-color-on-surface-variant);
    }
    
    .spinner {
      width: 48px;
      height: 48px;
      border: 4px solid var(--md-sys-color-outline-variant);
      border-top-color: var(--md-sys-color-primary);
      border-radius: 50%;
      animation: spin 1s cubic-bezier(0.4, 0, 0.2, 1) infinite;
      margin-bottom: 16px;
    }
    
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    .bookmark-item, .folder-item {
      background: var(--md-sys-color-surface-container);
      border-radius: 20px;
      padding: 16px 20px;
      margin-bottom: 12px;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: grab;
      box-shadow: var(--md-elevation-1);
      border: 1px solid transparent;
    }
    
    .bookmark-item:hover, .folder-item:hover {
      background: var(--md-sys-color-surface-container-high);
      box-shadow: var(--md-elevation-2);
      border-color: var(--md-sys-color-outline-variant);
      transform: translateY(-2px);
    }
    
    .bookmark-item.dragging, .folder-item.dragging {
      opacity: 0.6;
      cursor: grabbing;
      transform: scale(0.98);
    }
    
    .bookmark-header, .folder-header {
      display: flex;
      align-items: flex-start;
      gap: 12px;
      margin-bottom: 12px;
    }
    
    .bookmark-favicon {
      width: 24px;
      height: 24px;
      border-radius: 8px;
      flex-shrink: 0;
      margin-top: 2px;
      background: var(--md-sys-color-surface);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 16px;
    }
    
    .bookmark-info {
      flex: 1;
      min-width: 0;
    }
    
    .bookmark-title, .folder-title {
      font-weight: 500;
      font-size: 15px;
      color: var(--md-sys-color-on-surface);
      margin-bottom: 6px;
      line-height: 1.4;
      display: -webkit-box;
      -webkit-line-clamp: 2;
      -webkit-box-orient: vertical;
      overflow: hidden;
    }
    
    .status-indicators {
      display: flex;
      gap: 12px;
      align-items: center;
      margin-top: 8px;
    }
    
    .status-dot {
      font-size: 20px;
      line-height: 1;
      animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }
    
    .status-dot-green {
      color: #10b981;
      filter: drop-shadow(0 0 4px rgba(16, 185, 129, 0.6));
    }
    
    .status-dot-red {
      color: #ef4444;
      filter: drop-shadow(0 0 4px rgba(239, 68, 68, 0.6));
    }
    
    .status-dot-yellow {
      color: #f59e0b;
      filter: drop-shadow(0 0 4px rgba(245, 158, 11, 0.6));
    }
    
    .status-dot-gray {
      color: var(--md-sys-color-outline);
      filter: none;
    }
    
    .shield-indicator {
      font-size: 18px;
      line-height: 1;
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      cursor: pointer;
    }
    
    .shield-indicator:hover {
      transform: scale(1.2);
    }
    
    .shield-safe {
      filter: drop-shadow(0 0 6px rgba(16, 185, 129, 0.8)) 
              hue-rotate(0deg);
    }
    
    .shield-safe:hover {
      filter: drop-shadow(0 0 10px rgba(16, 185, 129, 1));
    }
    
    .shield-unsafe {
      filter: drop-shadow(0 0 6px rgba(239, 68, 68, 0.8)) 
              hue-rotate(0deg);
    }
    
    .shield-unsafe:hover {
      filter: drop-shadow(0 0 10px rgba(239, 68, 68, 1));
    }
    
    .shield-warning {
      filter: drop-shadow(0 0 6px rgba(245, 158, 11, 0.8)) 
              hue-rotate(0deg);
    }
    
    .shield-warning:hover {
      filter: drop-shadow(0 0 10px rgba(245, 158, 11, 1));
    }
    
    .shield-scanning {
      filter: drop-shadow(0 0 6px rgba(99, 102, 241, 0.6));
      animation: pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;
      cursor: default;
    }
    
    .shield-gray {
      opacity: 0.4;
      filter: grayscale(1);
      cursor: default;
    }
    
    .bookmark-url {
      font-size: 13px;
      color: var(--md-sys-color-on-surface-variant);
      overflow: hidden;
      text-overflow: ellipsis;
      white-space: nowrap;
      margin-bottom: 8px;
      opacity: 0.8;
    }
    
    .bookmark-meta {
      display: flex;
      gap: 8px;
      flex-wrap: wrap;
      margin-top: 12px;
    }
    
    .tag {
      background: var(--md-sys-color-primary-container);
      color: var(--md-sys-color-on-primary-container);
      padding: 4px 12px;
      border-radius: 12px;
      font-size: 12px;
      font-weight: 500;
      letter-spacing: 0.2px;
    }
    
    .bookmark-actions {
      display: flex;
      gap: 8px;
      margin-top: 12px;
      flex-wrap: wrap;
    }
    
    .action-btn {
      padding: 8px 16px;
      border: 1px solid var(--md-sys-color-outline);
      border-radius: 14px;
      background: var(--md-sys-color-surface);
      color: var(--md-sys-color-on-surface-variant);
      cursor: pointer;
      font-size: 13px;
      font-weight: 500;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      align-items: center;
      gap: 6px;
    }
    
    .action-btn:hover {
      background: var(--md-sys-color-primary);
      color: var(--md-sys-color-on-primary);
      border-color: transparent;
      transform: translateY(-1px);
    }
    
    .folder-item {
      border-left: 4px solid var(--md-sys-color-primary);
    }
    
    .folder-header {
      display: flex;
      align-items: center;
      gap: 12px;
    }
    
    .folder-toggle {
      cursor: pointer;
      color: var(--md-sys-color-on-surface-variant);
      transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      background: var(--md-sys-color-surface);
    }
    
    .folder-toggle:hover {
      background: var(--md-sys-color-surface-container-high);
    }
    
    .folder-toggle.expanded {
      transform: rotate(90deg);
    }
    
    .folder-icon {
      font-size: 20px;
    }
    
    .folder-count {
      font-size: 13px;
      color: var(--md-sys-color-on-surface-variant);
      background: var(--md-sys-color-surface);
      padding: 4px 12px;
      border-radius: 12px;
      font-weight: 500;
    }
    
    .folder-children {
      margin-left: 32px;
      margin-top: 12px;
      padding-left: 20px;
      border-left: 2px solid var(--md-sys-color-outline-variant);
    }
    
    .undo-fab {
      position: fixed;
      bottom: 24px;
      right: 24px;
      padding: 16px 24px;
      background: var(--md-sys-color-primary);
      color: var(--md-sys-color-on-primary);
      border: none;
      border-radius: 28px;
      font-weight: 500;
      font-size: 15px;
      cursor: pointer;
      box-shadow: var(--md-elevation-3);
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 10px;
      letter-spacing: 0.3px;
    }
    
    .undo-fab:hover {
      transform: translateY(-3px);
      box-shadow: 0 12px 20px -5px rgb(0 0 0 / 0.3);
      background: var(--md-sys-color-secondary);
    }
    
    .undo-fab:active {
      transform: translateY(-1px);
    }
    
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(4px);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 2000;
      padding: 20px;
      animation: fadeIn 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    
    .modal-content {
      background: var(--md-sys-color-surface);
      border-radius: 28px;
      padding: 28px;
      max-width: 500px;
      width: 100%;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: var(--md-elevation-3);
      animation: slideUp 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    @keyframes slideUp {
      from { 
        opacity: 0;
        transform: translateY(20px) scale(0.95);
      }
      to { 
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }
    
    .modal-header {
      font-size: 22px;
      font-weight: 500;
      margin-bottom: 24px;
      color: var(--md-sys-color-on-surface);
      letter-spacing: -0.3px;
    }
    
    .form-group {
      margin-bottom: 20px;
    }
    
    .form-label {
      display: block;
      font-size: 14px;
      font-weight: 500;
      margin-bottom: 8px;
      color: var(--md-sys-color-on-surface-variant);
      letter-spacing: 0.1px;
    }
    
    .form-input {
      width: 100%;
      padding: 14px 16px;
      border: 1px solid var(--md-sys-color-outline);
      border-radius: 16px;
      background: var(--md-sys-color-surface-variant);
      color: var(--md-sys-color-on-surface);
      font-size: 15px;
      outline: none;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .form-input:focus {
      border-color: var(--md-sys-color-primary);
      background: var(--md-sys-color-surface-container);
      box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
    }
    
    .modal-actions {
      display: flex;
      gap: 12px;
      justify-content: flex-end;
      margin-top: 28px;
    }
    
    .hidden {
      display: none !important;
    }
    
    .view-modes {
      display: flex;
      gap: 6px;
      background: var(--md-sys-color-surface-container);
      padding: 4px;
      border-radius: 16px;
    }
    
    .view-mode-btn {
      padding: 10px 14px;
      border: none;
      background: transparent;
      color: var(--md-sys-color-on-surface-variant);
      cursor: pointer;
      border-radius: 12px;
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      align-items: center;
      gap: 6px;
    }
    
    .view-mode-btn.active {
      background: var(--md-sys-color-primary);
      color: var(--md-sys-color-on-primary);
      box-shadow: var(--md-elevation-1);
    }
    
    .grid-view {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 16px;
    }
    
    .list-view .bookmark-item {
      display: flex;
      flex-direction: column;
    }
    
    .empty-state {
      text-align: center;
      padding: 60px 20px;
      color: var(--md-sys-color-on-surface-variant);
    }
    
    .empty-icon {
      font-size: 64px;
      margin-bottom: 20px;
      opacity: 0.3;
    }
    
    .empty-title {
      font-size: 20px;
      font-weight: 500;
      margin-bottom: 8px;
      color: var(--md-sys-color-on-surface);
    }
    
    .empty-text {
      font-size: 14px;
      color: var(--md-sys-color-on-surface-variant);
    }
  </style>
</head>
<body class="dark">
  <div class="header">
    <div class="logo-container">
      <div class="logo-icon">üîñ</div>
      <div class="logo-text">
        <div class="logo-title">Bookmark Manager Zero</div>
        <div class="logo-subtitle">A modern interface for your native Firefox bookmarks.</div>
      </div>
    </div>
    
    <div class="search-container">
      <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
      </svg>
      <input type="text" id="searchInput" class="search-input" placeholder="Search by title, url, tag, or keyword...">
    </div>
    
    <div class="toolbar">
      <div class="toolbar-left">
        <button id="filterToggle" class="btn btn-icon" title="Toggle Filters">
          <span>‚â°</span>
        </button>
        <button id="newBookmarkBtn" class="btn btn-primary" title="New Bookmark">
          <span>‚ûï</span>
          <span>Bookmark</span>
        </button>
        <button id="newFolderBtn" class="btn" title="New Folder">
          <span>üìÅ</span>
        </button>
        <button id="findDuplicatesBtn" class="btn" title="Find Duplicates">
          <span>üîç</span>
        </button>
      </div>
      <div class="toolbar-right">
        <div class="view-modes">
          <button class="view-mode-btn active" data-view="enhanced-list" title="Enhanced List">
            <span>‚ò∞</span>
          </button>
          <button class="view-mode-btn" data-view="list" title="Compact List">
            <span>‚â°</span>
          </button>
          <button class="view-mode-btn" data-view="grid" title="Grid">
            <span>‚ñ¶</span>
          </button>
        </div>
        <button id="themeToggle" class="btn btn-icon" title="Toggle Theme">
          <span id="themeIcon">‚òÄÔ∏è</span>
        </button>
        <button id="settingsBtn" class="btn btn-icon" title="Settings">
          <span>‚öôÔ∏è</span>
        </button>
      </div>
    </div>
  </div>
  
  <div id="filterBar" class="filters hidden">
    <button class="filter-chip" data-filter="live">
      <span>‚úì</span> Live Links
    </button>
    <button class="filter-chip" data-filter="dead">
      <span>‚úó</span> Dead Links
    </button>
    <button class="filter-chip" data-filter="safe">
      <span>üõ°Ô∏è</span> Safe
    </button>
    <button class="filter-chip" data-filter="unsafe">
      <span>‚ö†Ô∏è</span> Unsafe
    </button>
    <button class="filter-chip" data-filter="unchecked">
      <span>?</span> Unchecked
    </button>
  </div>
  
  <div class="content" id="content">
    <div class="loading">
      <div class="spinner"></div>
      <div>Loading bookmarks...</div>
    </div>
  </div>
  
  <button id="undoBtn" class="undo-fab hidden">
    <span>‚Ü©Ô∏è</span>
    Undo
  </button>
  
  <!-- Edit Modal -->
  <div id="editModal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">Edit Bookmark</div>
      <div class="form-group">
        <label class="form-label">Title</label>
        <input type="text" id="editTitle" class="form-input">
      </div>
      <div class="form-group">
        <label class="form-label">URL</label>
        <input type="text" id="editUrl" class="form-input">
      </div>
      <div class="form-group">
        <label class="form-label">Tags (comma-separated)</label>
        <input type="text" id="editTags" class="form-input" placeholder="work, important, read-later">
      </div>
      <div class="form-group">
        <label class="form-label">Keyword</label>
        <input type="text" id="editKeyword" class="form-input" placeholder="shortcut">
      </div>
      <div class="modal-actions">
        <button id="cancelEditBtn" class="btn">Cancel</button>
        <button id="saveEditBtn" class="btn btn-primary">Save</button>
      </div>
    </div>
  </div>
  
  <script src="sidebar.js"></script>
</body>
</html>